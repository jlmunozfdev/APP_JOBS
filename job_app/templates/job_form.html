{% extends "layout/_base.html" %}

{% block title %}Dashboard{% endblock title %}

{% block content %}
<div class="w-3/5 max-w-4xl bg-black rounded-lg border p-6">
    <div class="flex justify-center items-center">
        <a class="text-2xl font-bold mb-6 text-center text-yellow-200" href="{% url 'home'%}">{{ action }} Job</a>
    </div>

    <form method="post" class="grid grid-cols-2 gap-6">
        {% csrf_token %}

        <!-- Campo: Título del puesto -->
        <div class="col-span-1">
            <label for="job_title" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Job Title</label>
            <input type="text" name="job_title" id="job_title" value="{{ job.job_title|default_if_none:'' }}" 
                   class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        </div>

        <!-- Campo: Nombre de la empresa -->
        <div class="col-span-1">
            <label for="company_name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Company Name</label>
            <input type="text" name="company_name" id="company_name" value="{{ job.company_name|default_if_none:'' }}" 
                   class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        </div>

        <!-- Campo: Requerimientos -->
        <div class="col-span-2">
            <label for="requirements" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Requirements</label>
            <textarea name="requirements" id="requirements" rows="4" 
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">{{ job.requirements|default_if_none:'' }}</textarea>
        </div>

        <!-- Campo: Nombre de contacto -->
        <div class="col-span-1">
            <label for="contact_name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Contact Name</label>
            <input type="text" name="contact_name" id="contact_name" value="{{ job.contact_name|default_if_none:'' }}" 
                   class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        </div>

        <!-- Campo: Teléfono de contacto -->
        <div class="col-span-1">
            <label for="contact_phone" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Contact Phone</label>
            <input type="text" name="contact_phone" id="contact_phone" value="{{ job.contact_phone|default_if_none:'' }}" 
                   class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        </div>

        <!-- Campo: Fecha de postulación -->
        <div class="col-span-1">
            <label for="application_date" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Application Date</label>
            <input type="date" name="application_date" id="application_date" value="{{ job.application_date|date:'Y-m-d' }}" 
                   class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        </div>

        <!-- Campo: Fecha de cierre -->
        <div class="col-span-1">
            <label for="closing_date" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Closing Date</label>
            <input type="date" name="closing_date" id="closing_date" value="{{ job.closing_date|date:'Y-m-d' }}" 
                   class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
        </div>

        <!-- Campo: Estado -->
        <div class="col-span-1">
            <label for="status" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Status</label>
            <select name="status" id="status" 
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white">
                <option value="sent" {% if job.status == 'sent' %}selected{% endif %}>Enviado</option>
                <option value="in_progress" {% if job.status == 'in_progress' %}selected{% endif %}>En proceso</option>
                <option value="completed" {% if job.status == 'completed' %}selected{% endif %}>Finalizado</option>
            </select>
        </div>

        <!-- Campo: Notas -->
        <div class="col-span-2">
            <label for="notes" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Notes</label>
            <textarea name="notes" id="notes" rows="4" 
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">{{ job.notes|default_if_none:'' }}</textarea>
        </div>

        <!-- Botones -->
        <div class="col-span-2 flex justify-end space-x-4">
            <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600"><i class="fa-solid fa-floppy-disk"></i> Save</button>
            <a href="{% url 'home' %}" class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600 text-center"><i class="fa-solid fa-xmark"></i> Cancel</a>
        </div>
    </form>
</div>
{% endblock content %}
